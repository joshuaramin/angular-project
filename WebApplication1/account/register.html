<!DOCTYPE html>
<html ng-app="tattooVaultApp">
<head>
    <meta charset="utf-8">
    <title>Register - TattooVault</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../Scripts/app/controller/register.controller.js"></script>
    <style>
        body, html {
            margin: 0 !important;
            padding: 0 !important;
            width: 100% !important;
            height: 100% !important;
            background: black !important;
            overflow: hidden !important;
        }

        .register-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1f2937 0%, #000 50%, #1f2937 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: slideInFromRight 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInFromRight {
            0% {
                transform: translateX(100%);
                opacity: 0;
            }

            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .register-form {
            background: rgba(31, 41, 55, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid #4b5563;
            border-radius: 1rem;
            padding: 2rem;
            width: 100%;
            max-width: 900px;
        }

        .slide-out-left {
            animation: slideOutToLeft 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes slideOutToLeft {
            0% {
                transform: translateX(0);
                opacity: 1;
            }

            100% {
                transform: translateX(-100%);
                opacity: 0;
            }
        }
    </style>
</head>
<body ng-controller="RegisterController">
    <div class="register-container" id="registerContainer">
        <div class="register-form">
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-white mb-2 tracking-tight">Join TattooVault</h1>
                <p class="text-gray-400">Create your ink collection</p>
            </div>

            <!-- AngularJS Form -->
            <form name="registerForm" ng-submit="register()" novalidate class="grid grid-cols-2 gap-6">

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">First Name</label>
                    <input type="text" ng-model="user.firstName" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="First name">
                    <span ng-show="registerForm.$submitted && registerForm.firstName.$invalid" class="text-red-400 text-sm mt-1">First name is required.</span>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Last Name</label>
                    <input type="text" ng-model="user.lastName" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Last name">
                    <span ng-show="registerForm.$submitted && registerForm.lastName.$invalid" class="text-red-400 text-sm mt-1">Last name is required.</span>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Username</label>
                    <input type="text" ng-model="user.username" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Choose a username">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                    <input type="email" ng-model="user.email" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Enter your email">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Phone</label>
                    <input type="tel" ng-model="user.phone"
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Phone number">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Birthday</label>
                    <input type="date" ng-model="user.birthday"
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                    <input type="password" ng-model="user.password" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Create a password">
                    <p class="text-gray-400 text-xs mt-1">
                        Password must contain at least one uppercase, lowercase, number & special char.
                    </p>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Confirm Password</label>
                    <input type="password" ng-model="user.confirmPassword" required
                           class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"
                           placeholder="Confirm your password">
                </div>

                <div class="col-span-2 flex items-start space-x-2">
                    <input type="checkbox" ng-model="user.acceptTerms" required
                           class="mt-1 w-4 h-4 text-purple-600 bg-gray-700 border-gray-600 rounded">
                    <label class="text-sm text-gray-300">
                        I agree to the <a href="#" class="text-purple-400">Terms of Service</a> and <a href="#" class="text-purple-400">Privacy Policy</a>
                    </label>
                </div>

                <div class="col-span-2">
                    <button type="submit" ng-disabled="loading"
                            class="w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-green-700 hover:to-blue-700">
                        {{ loading ? 'Creating Account...' : 'Create Account' }}
                    </button>
                </div>
            </form>

            <div class="mt-6 text-center">
                <p class="text-gray-400">
                    Already have an account?
                    <a href="#" ng-click="slideToLogin()" class="text-purple-400 hover:text-purple-300 font-medium">Sign in</a>
                </p>
            </div>

            <div ng-if="errorMessage"
                 class="mt-4 p-3 bg-red-900 border border-red-700 rounded-lg text-red-300 text-sm">
                {{ errorMessage }}
            </div>
        </div>
    </div>


    <script>
        function slideToLogin() {
            const registerContainer = document.getElementById('registerContainer');
            registerContainer.classList.add('slide-out-left');

            setTimeout(() => {
                window.location.href = '/account/login.html';
            }, 600);
        }

        // Show red error bar only if there are errors
        document.addEventListener("DOMContentLoaded", function () {
            const validationSummary = document.querySelector(".validation-summary");
            if (validationSummary && validationSummary.innerText.trim().length > 0) {
                validationSummary.classList.remove("hidden");
            }
        });
    </script>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</body>
</html>
